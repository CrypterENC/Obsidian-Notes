## **What is Hardware abstraction Layer (HAL) ?** 
- It is a software that **handles all of the ~={yellow}communication between the hardware and the kernel.**=~
- The~={green} **"KERNEL"** is the core of the **OPERATING SYSTEM**=~ and ~={yellow}**has control over the entire computer**=~
- The "KERNEL" **~={yellow}handles all the input and output, memory, and all the connected devices to the computer.=~**
## **What is USER MODE and KERNEL MODE ?** 
- The "CPU" operates in 2 different modes in the computer:
	1. **User Mode:**
		- **Install Applications run** in "User Mode".
		- When a application is launched, **a ~={yellow}restricted address space is created=~ by user mode,** along with a ~={yellow}**process created specifically for this app.**=~
	2. **Kernel Mode:**
		- Operating System runs in "Kernel Mode"
		- All of the **~={yellow}code that runs in KERNEL MODE uses the same space address.=~**
			- If the kernel code driver, **~={yellow}it causes the entire operating system to crash.=~**
## **What is File Systems**
-  **A File system is how~={yellow} information is organized on storage media.**=~
- List is File systems supported by the Windows:
	1. exFAT:
		- ~={yellow}**Simple FS used by all the operating system.**=~
		- ~={green}**it has some limitations:**
			- **num of partitions**
			- **partition size**
			- **file sizes**=~
	2. Hierarchical File System Pluss(HFS):
		- **Used in MacOS.**
			- ~={yellow}**allows much longer filenames, file size, partition size.**=~
			- ~={green}**Windows can only read data =~from HFS partitions.**
	3. Extended File System(EXT):
		1. ~={yellow}**Used in Linux OS.**=~
		2. ~={green}**Windows can only read data =~from HFS partitions.**
	4. New Technology File System(NTFS):
		- **NTFS is the ~={yellow}most widely used file system for Windows=~ for many reasons.**
		- **Why NTFS is Most Widely Used:**
			- **Supports very ~={green}large files and partitions=~**
			- **~={green}Highly compatible with other operating systems=~**
			- **Extensive ~={green}security features=~**
				- **Security Features:**
					- **Data Access Control:**
					- **Permissions:** 
					- **Timestamps (MACE):**
					  - **M**odify - When file was last modified
					  - **A**ccess - When file was last accessed
					  - **C**reate - When file was created
					  - **E**ntry Modified - When file metadata changed.
			- **File system ~={green}encryption support=~**

### **What is Partitioning and Formatting**

- **Partitions:** ~={yellow}Hard drive ~={green}**divided into logical storage units**=~=~
- **Process:** ~={yellow}Frist device must **be partitioned**=~ → ~={yellow}Then **formatted with file system**=~
- **Automatic Setup:** Most OS's ~={yellow}automatically partition and format during installation=~
### **NTFS Disk Structures**

1. **Partition Boot Sector**
   - ~={yellow}First 16 sectors of the drive=~
   - ~={green}Contains **location of Master File Table** (MFT)=~
   - ~={yellow}Last 16 sectors=~ ~={green}contain backup copy=~

2. **Master File Table (MFT)**
   - ~={yellow}Contains locations of all files and directories=~
   - ~={yellow}Stores file attributes=~ (security info, timestamps)

1. **System Files**
   - Store ~={yellow}Hidden files=~
   - ~={yellow}Store information about volumes and file attributes=~

4. **File Area**
   - ~={yellow}Main partition area
   - Stores actual files and directories=~
## **Windows Boot Process**

- ~={yellow}Multiple actions occur from ~={green}**power button press** to full Windows load=~=~
- Known as the **Windows Boot Process**
### **Computer Firmware Types**

**1. BIOS (Basic Input-Output System)**

- The **~={yellow}process begins with the bios initialization phase=~** in **~={green}which the hardware devices are initialized and a POST is performed.=~**
- When the ~={yellow}**System Disk is discovered=~ ~={green}the POST is ended and looks for ~={cyan}Master Boot Record (MBR)=~ and ~={blue}then BIOS executes MBR code=~ and OS starts to load.**=~

**2. UEFI (Unified Extensible Firmware Interface)**

- UEFI firmware **~={yellow}boots by loading the EFI program files=~** (`.efi` files)
- Stored in special disk partition: **EFI System Partition (ESP)**

### **Windows Boot Sequence (BIOS or UEFI)**

1. ~={yellow}**Executes ~={red}Bootmgr.exe**=~=~ which ~={green}**read data from Boot Configuration Database(BCD)**=~
	- If the ~={yellow}**computer is coming out of Hibernation**=~, **~={green}then the BOOT process continue with ~={red}Winresume.exe=~ then it reads ~={red}Hiberfil.sys=~ and then restores the computer state.=~**
	- if the **~={yellow}computer is being booted from a cold start=~**, **~={green}then the BOOT process continue with ~={red}Winload.exe=~=~** then **~={cyan}it runs ~={red}Ntoskrnl.exe=~**=~ ~={blue}which starts the Window Kernel and sets up the HAL, then the USER ENVIRONMENT IS SETUP=~

## **Windows Startup**

- There are 2 imp registry items that is responsible for automatically starting up applications and services:

~={red}1. **HKEY_LOCAL_MACHINE**=~

- **~={yellow}Stores all the info of=~ ~={green}Windows configuration=~ including the ~={green}information about the services=~ that start with each boot.**

~={red}**2. HKEY_CURRENT_USER**=~

- ~={yellow}Stores all the info=~ related ~={green}logged in user=~, including the ~={green}information about the services=~ that start only when the user logs in**
### **Startup Entry Types**

- These entries will tell how the application or the service will start after boot: 
	- Run
	- RunOnce
	- RunServices
	- RunServicesOnce
	- Userinit
## **Windows Shutdown**

- It is ~={yellow}always best to perform=~ a~={green} **proper shutdown to turn off the computer**. =~
- The ~={yellow}computer needs time=~ to ~={green}close each application, shut down each service, and record any configuration changes before power is lost=~.
### **Shutdown Process**

- ~={yellow}During the shutdown Computer:=~
	~={green}1. **Closes user mode applications**
	1. **Closes kernel mode applications=~** 
- If in case of ~={yellow}any errors  while Shutting down:=~
	~={green}- **User Mode: OS displays notification, allows wait or force end**
	- **Kernel Mode: Shutdown appears to hang, may need power button=~**
### **Shutdown Methods**

- Start menu power options
- Command line: `shutdown` command
- Ctrl+Alt+Delete → Power icon