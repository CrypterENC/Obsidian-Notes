# ðŸ”’ SSL in Python

## ðŸ“– Overview
- **SSL** (Secure Sockets Layer) provides encrypted communication. Now known as **TLS** (Transport Layer Security).
- Python's `ssl` module enables secure connections for sockets.
- Wraps regular sockets to add encryption and authentication.

## ðŸ›  Using SSL Module
- **Import**: `import ssl`
- **SSLContext**: Main class for SSL settings.
  - Create: `context = ssl.create_default_context(ssl.Purpose.SERVER_AUTH)` (for clients)
  - Load cert: `context.load_cert_chain('cert.pem', 'key.pem')` (for servers)
- **Wrap socket**: `ssl_sock = context.wrap_socket(sock, server_side=True/False)`

##  Notes
- **Certificates**: Need valid certs (self-signed for testing, CA-signed for production).
- **Verification**: Clients verify server certs; servers may verify client certs.
- **Errors**: Handle `ssl.SSLError`.
- **Best Practice**: Use TLS 1.2+; avoid deprecated `ssl.wrap_socket` directly, use `SSLContext`.
- **Security**: Always verify certificates in production.

## ðŸ’» Skeleton: SSL Server
```python
import socket
import ssl

def main():
    # Create socket
    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    sock.bind(('localhost', 4443))
    sock.listen(5)

    # SSL context
    context = ssl.create_default_context(ssl.Purpose.CLIENT_AUTH)
    context.load_cert_chain(certfile='server.crt', keyfile='server.key')

    print("SSL Server listening on localhost:4443")

    while True:
        try:
            client_sock, addr = sock.accept()
            print(f"Connection from {addr}")
            ssl_client = context.wrap_socket(client_sock, server_side=True)

            # Handle connection
            data = ssl_client.recv(1024)
            if data:
                print(f"Received: {data.decode()}")
                # Process data here

            ssl_client.close()
        except Exception as e:
            print(f"Error: {e}")

if __name__ == "__main__":
    main()
```

## ðŸ’» Skeleton: SSL Client
```python
import socket
import ssl

def main():
    # Create socket
    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    sock.connect(('localhost', 4443))

    # SSL context
    context = ssl.create_default_context()
    ssl_sock = context.wrap_socket(sock, server_hostname='localhost')

    print("Connected to SSL server")

    try:
        # Send message
        ssl_sock.send(b"Hello from client!")

        # Receive response
        response = ssl_sock.recv(1024)
        print(f"Response: {response.decode()}")
    except Exception as e:
        print(f"Error: {e}")
    finally:
        ssl_sock.close()

if __name__ == "__main__":
    main()
```